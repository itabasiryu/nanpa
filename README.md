# 🎮 ナンパゲーム 要件定義書

スマホで自分のみが使うことを想定

## 1. 📱 画面構成

### 画面1：プロフィール & 動画選択
- **上部50%**：プロフィール表示
  - 名前：デュオ
  - 能力値（評価付き）：
    - 評価ランク：
      - MAX：89以上
      - A：80〜89
      - B：70〜79
      - C：60〜69
      - D：50〜59
      - E：40〜49
      - F：30〜39
      - G：29以下
  - 表示項目：
    - 現在のレベル、コーデ、発声、姿勢、声かけ、トークの能力値とそれらのランク
    -声かけ数等の集計は、過去の累計とゲーム中にそのゲームでの値のみを保存する一時的なデータの二つがある
    - レベル、声かけ数、連れ出し数、クロージング数、反応率(無視率の逆)、- 連れ出し率(反応数/連れ出し数x100)、連れ出し率 = 連れ出し成功数 ÷ 反応数 × 100、クロージング率 = クロージング成功数 ÷ 連れ出し成功数 × 100

- **下部50%**：動画選択画面
  - 複数の動画サムネイルから選択可能

---

### 画面2：ナンパ実行
スマホで横画面
- **上部70%**：選択した街中映像（動画）
- **中央20%**：ログエリア
  - 声かけ結果や反応、成功などリアルタイム表示
- **下部10%**：現在の能力値の表示

---

## 2. 🧠 能力値

| 能力名   | 初期値 | 説明                             |
|----------|--------|----------------------------------|
| コーデ   | 74     | 女の子の反応に関与               |
| 発声     | 67     | 女の子の反応に関与               |
| 姿勢     | 70     | 女の子の反応に関与               |
| 声かけ   | 50      | 声かけ成功確率（%）に使用        |
| トーク   | 20     | 連れ出し成功率・クロージング確率に使用 |

---

## 3. 🎲 ゲームロジック

### 声かけ判定
- 映像内で女の子が右か左のどちらにいるか、写っている時間をデータに入れておく。
指定の時間になると、動画の女の子のいる側を目立たせる(2秒)、その側を2回以上タップで声かけ試行、ボタンが光っている期間しかタップできない、ボタンの光が止まるとタップ回数はリセット、一回の目立たせに対して一回しか声かけできない
- 声かけ成功率：`声かけ能力値（%）`
- 成功 → 反応判定へ
- 失敗 → 「地蔵」と表示

---

### 反応判定
- 平均能力 ＝ (コーデ + 発声 + 姿勢) ÷ 3
- 無視確率 ＝ `100 - 平均能力（%）`
- 無視 → ログ表示「無視」
- 無視されなかった場合：
トークの確率で高反応、それ以外は低反応

#### 低反応：
- `トーク （%）の確率で連れ出し

#### 高反応：
- `トーク × 2.0`（%）の確率で連れ出し

声かけ成功率 = 声かけ能力値（%）
無視確率     = 100 - ((コーデ + 発声 + 姿勢) ÷ 3)%

---

### クロージング判定
- 連れ出し成功時：
  - `トーク（%）`の確率でクロージング成功

---

## 4. 📈 成長・レベルアップ

### レベルアップ条件
- 現在のレベルを `n` としたとき、次のレベルに必要な声かけ成功数：
  - `n × 10` 回
  - 例：Lv1→2：10回、Lv2→3：20回...

### 能力成長
- レベルアップ時：**声かけ**能力値 +1
トーク能力値+1
姿勢、発声、コーデ、トークの中から、88以下の能力をランダムで二つ選んで+1
---

## 5. 🗃️ ログ & 統計管理

| 指標           | 内容                             |
|----------------|----------------------------------|
| 声かけ企図数   | タップ2回以上の声かけ試行数      |
| 声かけ成功数   | 声かけが成立した数               |
| 無視数         | 声かけ後に無視された回数         |
| 低反応数       | 声かけ後に低反応された回数       |
| 高反応数       | 声かけ後に高反応された回数       |
| 連れ出し数     | 連れ出しに成功した回数           |
| クロージング数 | クロージングに成功した回数       |

- プレイ中は中央20%のログ欄にリアルタイム表示
- 動画終了時に最終集計表示（回数・割合）

---

## 6. 💾 データ保存仕様

- ローカルストレージに保存：
  - 各能力値
  - 現在レベル
  - 声かけ数・連れ出し数・クロージング数などの統計
  - トークの成長進捗

---

## 7. ⚙️ 技術スタック（予定）

| 技術         | 用途                             |
|--------------|----------------------------------|
| HTML5        | 画面構成                         |
| CSS3         | スタイリング・レイアウト          |
| JavaScript   | ゲームロジック・状態管理         |
| `<video>`タグ | 映像再生                         |
| LocalStorage | ユーザーデータの永続保存          |

---

## 8. ⚙️ ファイル構造

index.html
style.css
script.js
1.mp4
2.mp4
3.mp4

---
